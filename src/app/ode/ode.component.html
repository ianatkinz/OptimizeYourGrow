<h1>Input parameters</h1>

<form (ngSubmit)="solve()">
  <section class="form-block">
    <div class="form-group" *ngIf="showAPIField">
      <label for="apiInput">API url</label>
      <input id="apiInput" placeholder="http://localhost:7777/" type="url" [(ngModel)]="apiUrl" name="apiInput"  [ngModelOptions]="{standalone: true}">
    </div>
    
    <h2>Facility parameters</h2>
    <div class="form-group">
      <label for="heatLight">Enter heat generated by lighting [kW]:</label>
       <input id="heatLight" type="text" [(ngModel)]="settings.heatLight" name=heatLight size="5">
    </div>
    
    <div class="form-group">
      <label for="moistureGain">Enter the water loss rate (evaporation + transpiration) [g/s]:</label>
      <input id="moistureGain" placeholder="" type="text" [(ngModel)]="settings.moistureGain" name=moistureGain size="5">
    </div>
     
     <div class="form-group">
      <label for="co2Use">Enter the rate at which CO2 is being used by your plants [g/s]:</label>
      <input id="co2Use" placeholder="" type="text" [(ngModel)]="settings.co2Use" name=co2Use size="5">
    </div>

    <div class="form-group">
      <label for="volume">Volume [m^3] and surface  area [m^2] of your facility:</label>
      <span> ( </span>
      <input id="volume" placeholder="Volume" type="text" [(ngModel)]="settings.volume" size="10" name="volume">
      <span> , </span>
      <input id="surfaceArea" placeholder="Surface area" type="text" [(ngModel)]="settings.surfaceArea" size="10" name="surfaceArea">
      <span> ) </span>
    </div>
          <div class="form-group">
      <label for="buildingConductance">Enter the thermal conductance of the walls and roof [W/m^2-K]:</label>
      <input id="buildingConductance" placeholder="" type="text" [(ngModel)]="settings.buildingConductance" name=buildingConductance size="5">
    </div>

    <h2>Setpoints</h2>
    <div class="form-group">
      <label for="setTemp">Enter inside setpoint temperature [C]:</label>
       <input id="setTemp" type="text" [(ngModel)]="settings.setTemp" name=setTemp size="5">
    </div>

    <div class="form-group">
      <label for="setRH">Enter inside setpoint relative humidity [%]:</label>
       <input id="setRH" type="text" [(ngModel)]="settings.setRH" name=setRH size="5">
    </div>

    <div class="form-group">
      <label for="setCO2">Enter setpoint carbon dioxide concentration [ppm]:</label>
       <input id="setCO2"  type="text" [(ngModel)]="settings.setCO2" name=setCO2 size="5">
    </div>

     <h2>Costs</h2>
    <div class="form-group">
      <label for="costHeat">Enter hourly unit cost of heat [$/kWh]:</label>
       <input id="costHeat" placeholder="0.0170" type="text" [(ngModel)]="settings.costHeat" name=costHeat size="5">
    </div>

    <div class="form-group">
      <label for="costMechcool">Enter hourly unit cost of mechanical cooling [$/kWh]:</label>
       <input id="costMechcool" placeholder="0.0333" type="text" [(ngModel)]="settings.costMechcool" name=costMechcool size="5">
    </div>

    <div class="form-group">
      <label for="costMist">Enter hourly unit cost of misting [$/(g/s)h]:</label>
       <input id="costMist" placeholder="0.00475" type="text" [(ngModel)]="settings.costMist" name=costMist size="5">
    </div>

    <div class="form-group">
      <label for="costDehumid">Enter hourly unit cost of dehumidifying [$/(g/s)h]:</label>
       <input id="costDehumid" placeholder="0.0752" type="text" [(ngModel)]="settings.costDehumid" name=costDehumid size="5">
    </div>

    <div class="form-group">
      <label for="costCO2">Enter hourly unit cost of injecting CO2 [$/(g/s)h]:</label>
       <input id="costCO2" placeholder="0.339" type="text" [(ngModel)]="settings.costCO2" name=costCO2 size="5">
    </div>

    <div class="form-group">
      <label for="costVent">Enter hourly unit cost of ventilation [$/(m^3/s)h]:</label>
       <input id="costVent" placeholder="0.0137" type="text" [(ngModel)]="settings.costVent" name=costVent size="5">
    </div>

  </section>
  <button type="submit" class="btn btn-outline" [disabled]="!serverAwake">Solve it</button>
</form>

<!-- Waking up message -->

<clr-alert [clrAlertSizeSmall]="true" [clrAlertClosed]="serverAwake">
    <div class="alert-item">
        <span class="alert-text">
            Waking up the back-end solver...
        </span>
    </div>
</clr-alert>

<!-- Server returned an error message  -->

<clr-alert [clrAlertType]="'alert-danger'" *ngIf="serverError!=''" (clrAlertClosedChange)="serverErrorClose()">
    <div class="alert-item">
        <span class="alert-text">
            {{serverError}}
        </span>
    </div>
</clr-alert>

<div class="progress loop" *ngIf="waitingOnServer"><progress></progress></div>

<div id="results-plot"
  name="results-plot"
  style="">
</div>

<div id="results-plot1"
  name="results-plot1"
  style="">
</div>

<div id="results-plot2"
  name="results-plot2"
  style="">
</div>

<div id="results-plot3"
  name="results-plot3"
  style="">
</div>

<div id="results-plot4"
  name="results-plot4"
  style="">
</div>

<div id="results-plot5"
  name="results-plot5"
  style="">
</div>

<div id="results-plot6"
  name="results-plot6"
  style="">
</div>

<div id="plot-instructions">
<p></p>
</div>
